<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loretta‚ù§Ô∏è</title>
  <meta name="description" content="Detalle interactivo con fotos fijas, m√∫sica y 20 frases una a una." />
  <style>
    :root{
      --bg:#FFF9EE;
      --accent:#FFDD57;
      --text:#222;
      --glass: rgba(255,255,255,0.6);
      --blur: 12px;
      --radius:18px;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, Arial; background:linear-gradient(180deg,#fffaf0 0%, #fff3d6 60%); color:var(--text)}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:36px}
    .card{width:100%;max-width:var(--maxw);background:linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.62));border-radius:24px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,0.12);backdrop-filter: blur(6px);position:relative;overflow:hidden;z-index:1}
    .grid{display:grid;grid-template-columns: 1fr 420px;gap:18px}
    .left{padding:12px}
    .right{padding:12px}
    .viewer{height:520px;border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;background:linear-gradient(135deg,#fff9e6 0%, #fff0c7 100%);border:1px solid rgba(0,0,0,0.04)}
    
    /* fotos */
    .photos{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .photo{max-height:90%;max-width:90%;border-radius:16px;object-fit:contain;position:absolute;opacity:0;transition:opacity 0.8s ease-in-out}
    .photo.active{opacity:1}

    .phraseCard{position:absolute;bottom:28px;left:28px;right:28px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));padding:18px;border-radius:14px;display:flex;align-items:center;justify-content:space-between;gap:12px;backdrop-filter: blur(var(--blur))}
    .phraseText{font-size:1.25rem;font-weight:700;line-height:1.2}
    .phraseSmall{font-size:0.9rem;opacity:.78}
    .panel{background:rgba(255,255,255,0.75);padding:14px;border-radius:12px;height:100%;overflow:auto}
    .list-photos{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .thumb{width:72px;height:54px;border-radius:10px;object-fit:cover;cursor:pointer;border:2px solid transparent}
    .thumb.selected{border-color:var(--accent)}
    .bigControls{display:flex;gap:8px;align-items:center;margin-top:12px;flex-wrap:wrap}
    .petal{position:absolute;width:36px;height:36px;pointer-events:none;filter:drop-shadow(0 6px 10px rgba(0,0,0,0.12));opacity:0.95}
    @media (max-width:980px){.grid{grid-template-columns:1fr;}.viewer{height:420px}.right{order:2}.left{order:1}}
    .heart{position:absolute;transform:translate(-50%,-50%);pointer-events:none;width:88px;height:88px;opacity:0;transition:opacity .18s ease, transform .5s cubic-bezier(.2,.9,.2,1)}
    .heart.show{opacity:1;transform:translate(-50%,-50% scale(1.05) rotate(-6deg))}
    .footer{margin-top:12px;display:flex;justify-content:space-between;align-items:center;font-size:0.9rem;opacity:.85}

    /* T√≠tulo arriba */
    .title{
      text-align:center;
      font-size:2rem;
      font-weight:700;
      margin-bottom:18px;
      color:#c71585;
      text-shadow:0 2px 6px rgba(0,0,0,0.15);
    }

    /* Texto efecto m√°quina */
    .typewriter{
      margin-top:14px;
      font-size:1.1rem;
      font-weight:500;
      color:#444;
      text-align:center;
      min-height:28px;
    }

    /* Corazones flotantes en el fondo */
    .heart-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: 0; pointer-events: none; }
    .heart-float { position: absolute; width: 20px; height: 20px; background: #8B0000; transform: rotate(45deg); animation: floatUp 10s linear infinite; opacity: 0.7; border-radius: 4px; }
    .heart-float::before, .heart-float::after { content: ''; position: absolute; width: 20px; height: 20px; background: #8B0000; border-radius: 50%; }
    .heart-float::before { top: -10px; left: 0; }
    .heart-float::after { left: -10px; top: 0; }
    @keyframes floatUp { 0% { transform: translateY(100vh) rotate(45deg) scale(0.8); opacity: 0; } 20% { opacity: 1; } 100% { transform: translateY(-10vh) rotate(45deg) scale(1.2); opacity: 0; } }

    /* Carrusel de videos */
    .video-carousel{margin-top:30px;text-align:center}
    .video-carousel video{width:100%;max-height:400px;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.2)}
    .video-controls{margin-top:10px;display:flex;justify-content:center;gap:20px}
    .video-controls button{padding:10px 18px;border:none;border-radius:8px;background:#c71585;color:#fff;font-weight:bold;cursor:pointer;transition:0.3s}
    .video-controls button:hover{background:#a0106b}
  </style>
</head>
<body>
  <!-- Fondo de corazones -->
  <div class="heart-bg" id="heartBg"></div>

  <div class="wrap">
    <div class="card" id="app">
      <!-- T√çTULO -->
      <div class="title">Para la ni√±a de mis ojos ‚ù§Ô∏è</div>

      <div class="grid">
        <div class="left">
          <div class="viewer" id="viewer">
            <div class="photos" id="photos"></div>
            <svg class="heart" id="heart" viewBox="0 0 32 29" style="left:50%;top:40%">
              <path d="M23.6 2c-2.4 0-4.3 1.5-5.6 3.1C16.7 3.5 14.8 2 12.4 2 8.8 2 6 5 6 8.6 6 15 16 23 16 23s10-8 10-14.4C26 5 23.2 2 19.6 2z" fill="var(--accent)" />
            </svg>
            <div class="phraseCard" id="phraseCard">
              <div>
                <div class="phraseText" id="phraseText">Bienvenida, amor...</div>
                <div class="phraseSmall">Frase <span id="phraseIndex">0</span>/20</div>
              </div>
              <div style="display:flex;gap:8px;align-items:center">
                <button class="btn" id="likeBtn">‚ù§Ô∏è Me encanta</button>
                <button class="btn" id="nextBtn">‚û°Ô∏è Siguiente</button>
              </div>
            </div>
          </div>
          <!-- TEXTO EFECTO M√ÅQUINA -->
          <div class="typewriter" id="typewriter"></div>
          <div class="footer">
            <div>Haz clic en la foto o usa ‚û°Ô∏è</div>
            <div>Creado con ‚ù§Ô∏è</div>
          </div>
        </div>

        <div class="right">
          <div class="panel">
            <label>El inicio de nuestra historia ‚ù§Ô∏è </label>
            <div class="list-photos" id="listPhotos"></div>
            <div class="bigControls">
              <button class="btn" id="shuffle">üîÄ Aleatorizar frases</button>
              <button class="btn" id="reset">‚ôªÔ∏è Reiniciar</button>
              <button class="btn" id="autoBtn">‚èØÔ∏è Auto Play</button>
            </div>
            <br>
            <label>Controles de m√∫sica</label>
            <br><br>
            <div style="display:flex;gap:8px;align-items:center">
              <button class="btn" id="playBtn">‚ñ∂Ô∏è Reproducir</button>
              <button class="btn" id="pauseBtn">‚è∏Ô∏è Pausa</button>
              <button class="btn" id="stopBtn">‚èπÔ∏è Detener</button>
            </div>
            <br>
            <label>Recuerdito‚ù§Ô∏è</label>
            <br><br>
            <video id="recuerdosVideo" 
                   src="videos/WhatsApp Video 2025-09-21 at 19.06.17.mp4" 
                   width="151" height="151"
                   autoplay muted loop playsinline
                   style="border-radius:12px;
                          box-shadow:0 4px 16px rgba(0,0,0,0.2);
                          display:block;
                          margin-left:100px;">
            </video>
          </div>
        </div>
      </div>

      <!-- üéûÔ∏è Carrusel de videos (DENTRO de la tarjeta blanca) -->
      <div class="title">Mas recuerditos ‚ù§Ô∏è</div>
      <div class="video-carousel">
        <video id="carouselVideo" src="videos/1.mp4" autoplay muted loop playsinline></video>
        <div class="video-controls">
          <button id="prevVideo">‚¨ÖÔ∏è Anterior</button>
          <button id="nextVideo">‚û°Ô∏è Siguiente</button>
        </div>
      </div>

    </div>
  </div>

  <audio id="bgAudio" src="tu_cancion_mp3/Reik - Pero Te Conoc√≠.mp3" loop></audio>

  <script>
    const photosDiv = document.getElementById('photos');
    const listPhotos = document.getElementById('listPhotos');
    const phraseText = document.getElementById('phraseText');
    const phraseIndex = document.getElementById('phraseIndex');
    const nextBtn = document.getElementById('nextBtn');
    const likeBtn = document.getElementById('likeBtn');
    const bgAudio = document.getElementById('bgAudio');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const stopBtn = document.getElementById('stopBtn');
    const autoBtn = document.getElementById('autoBtn');
    const heart = document.getElementById('heart');
    const typewriterDiv = document.getElementById('typewriter');

    let images = [], thumbs = [], currentPhoto = 0;
    let currentPhrase = -1;
    let autoPlay = null;

    // Frases
    const phrases = [
      "Te quiero como nunca antes","Eres mi sol en d√≠as nublados","Cada pensamiento es para ti","Tu risa es mi canci√≥n favorita","Quiero cuidar cada uno de tus sue√±os","Eres hermosa en cada detalle","Contigo todo tiene sentido","Gracias por existir","Quisiera detener el tiempo contigo","Tu mirada me alimenta el alma","Eres mi paz y mi aventura","A tu lado soy mejor persona","Si me das la mano voy contigo","Mi coraz√≥n te eligi√≥ a ti","Eres mi raz√≥n para esforzarme","Estar contigo es un premio","Contar estrellas contigo me basta","Quiero escribirte cada d√≠a","Tus besos son mi refugio","¬øMe das una oportunidad?"
    ];

    // 20 im√°genes fijas en carpeta fotos/
    const imagePaths = Array.from({length:20},(_,i)=>`fotos/${i+1}.jpeg`);

    function initPhotos(){
      imagePaths.forEach((src,i)=>{
        const img = document.createElement('img');
        img.src = src;
        img.className = 'photo';
        photosDiv.appendChild(img);
        images.push(img);
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.className = 'thumb';
        thumb.addEventListener('click', ()=>showPhoto(i));
        listPhotos.appendChild(thumb);
        thumbs.push(thumb);
      });
      showPhoto(0);
    }
    function showPhoto(i){
      images.forEach((img,idx)=>{ img.classList.toggle('active', idx===i); });
      thumbs.forEach((t,idx)=>{ t.classList.toggle('selected', idx===i); });
      currentPhoto=i;
    }

    // Frases
    nextBtn.addEventListener('click', ()=>showNextPhrase());
    function showNextPhrase(){ currentPhrase=(currentPhrase+1)%phrases.length; updatePhrase(true); }
    function updatePhrase(animate=false){
      phraseText.style.opacity=0;
      setTimeout(()=>{ phraseText.textContent=phrases[currentPhrase]; phraseText.style.opacity=1; },200);
      phraseIndex.textContent=(currentPhrase+1)+'/'+phrases.length;
      if(images.length>0) showPhoto(currentPhrase % images.length);
      if(animate) popHeartAt(window.innerWidth/2, window.innerHeight/3);
    }
    likeBtn.addEventListener('click', ()=>{ popHeartAt(window.innerWidth/2 + Math.random()*200-100, window.innerHeight/2); });

    // Auto Play
    autoBtn.addEventListener('click', ()=>{
      if(autoPlay){ clearInterval(autoPlay); autoPlay=null; autoBtn.textContent="‚èØÔ∏è Auto Play"; }
      else{ showNextPhrase(); autoPlay=setInterval(showNextPhrase,3000); autoBtn.textContent="‚è∏Ô∏è Detener Auto"; }
    });

    // Corazones + p√©talos
    function popHeartAt(x,y){
      heart.style.left=x+'px'; heart.style.top=y+'px';
      heart.classList.remove('show'); void heart.offsetWidth; heart.classList.add('show');
      setTimeout(()=>heart.classList.remove('show'),900);
      spawnPetals(x,y);
    }
    function spawnPetals(x,y){
      for(let i=0;i<8;i++){
        const p=document.createElement('div'); p.className='petal';
        p.style.left=(x+(Math.random()*120-60))+'px'; p.style.top=(y+(Math.random()*40-20))+'px';
        p.style.width=(18+Math.random()*30)+'px'; p.style.height=(18+Math.random()*30)+'px';
        p.innerHTML='<svg viewBox="0 0 24 24" width="100%" height="100%"><path d="M12 2s4 2 4 6-4 8-4 8-4-4-4-8 4-6 4-6z" fill="'+getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()+'"/></svg>';
        document.body.appendChild(p);
        const dx=(Math.random()*200-100), dy=(150+Math.random()*120);
        p.animate([{transform:'translateY(0) scale(1)', opacity:1},{transform:`translate(${dx}px, ${dy}px) scale(.3)`, opacity:0}],{duration:1800+Math.random()*900,easing:'cubic-bezier(.2,.9,.2,1)'});
        setTimeout(()=>p.remove(),2600);
      }
    }

    // M√∫sica
    playBtn.addEventListener('click', ()=>{ bgAudio.play().catch(()=>{}); });
    pauseBtn.addEventListener('click', ()=>{ bgAudio.pause(); });
    stopBtn.addEventListener('click', ()=>{ bgAudio.pause(); bgAudio.currentTime=0; });

    // Shuffle / Reset
    document.getElementById('shuffle').addEventListener('click', ()=>{ for(let i=phrases.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [phrases[i],phrases[j]]=[phrases[j],phrases[i]]; } currentPhrase=-1; showNextPhrase(); });
    document.getElementById('reset').addEventListener('click', ()=>{ currentPhrase=-1; phraseText.textContent='Bienvenida, amor...'; phraseIndex.textContent='0/'+phrases.length; showPhoto(0); });

    // Teclas
    document.addEventListener('keydown', e=>{ if(e.key==='ArrowRight') showNextPhrase(); if(e.key===' '){ likeBtn.click(); e.preventDefault(); } });

    // Texto efecto m√°quina
    const typeText = "‚ú® ‚ÄúMe gusta vivir cada instante contigo, porque a tu lado todo se siente diferente: tranquilo, en paz y sin ninguna preocupaci√≥n. Valoro cada esfuerzo que haces para compartir tiempo conmigo, incluso cuando s√© que tienes tus cosas y responsabilidades. Eso me hace admirarte a√∫n m√°s. Para m√≠ eres la mujer m√°s hermosa, linda, preciosa, inteligente y extraordinaria‚Ä¶ y s√© que palabras me faltar√≠an para describir lo que siento. Me encanta conocerte cada d√≠a m√°s, y espero que pronto podamos dar ese pasito y decir con orgullo que estamos enamorados.‚Äù üíñ";
    let i=0;
    function typeWriter(){ if(i<typeText.length){ typewriterDiv.innerHTML+=typeText.charAt(i); i++; setTimeout(typeWriter,40); } }
    typeWriter();

    // Corazones flotantes
    function createHeart(){ const h=document.createElement('div'); h.className='heart-float'; h.style.left=Math.random()*100+'vw'; h.style.animationDuration=(6+Math.random()*6)+'s'; document.getElementById('heartBg').appendChild(h); setTimeout(()=>h.remove(),12000); }
    setInterval(createHeart,600);

    // Inicializar fotos
    initPhotos();

    // Carrusel de videos
    const videos = ["videos/1.mp4","videos/2.mp4","videos/3.mp4","videos/4.mp4","videos/5.mp4","videos/6.mp4","videos/7.mp4","videos/8.mp4"];
    let currentVideo=0;
    const carouselVideo=document.getElementById('carouselVideo');
    document.getElementById('nextVideo').addEventListener('click',()=>{
      currentVideo=(currentVideo+1)%videos.length;
      carouselVideo.src=videos[currentVideo];
      carouselVideo.play();
    });
    document.getElementById('prevVideo').addEventListener('click',()=>{
      currentVideo=(currentVideo-1+videos.length)%videos.length;
      carouselVideo.src=videos[currentVideo];
      carouselVideo.play();
    });
  </script>
</body>
</html>

